# Rendering

오늘은 렌더링에 관해 작성을 해 보려고 한다.

### 웹 렌더링 정의

브라우저 화면에 그려지는 과정

## 렌더링 과정

1. 클라이언트는 서버로부터 HTML 문서를 다운로드 받아 파싱해
   DOM(Document Object Model) 트리를 생성

\*\* DOM : 웹 페이지의 구조

\*\* DOM TREE : DOM을 트리 구조로 표현한 것

2. CSS를 다운로드해 파싱 : CSSOM을 생성한다.

3. 렌더 트리 생성 : DOM트리와 CSSOM 트리를 결합해 렌더 트리(Render Tree)를 생성

4. 레이아웃 : 렌더 트리를 기반으로 위치와 크기를 계산해 배치를 하고

5. 페인트 : 레이아웃 정보를 기반으로 화면에 요소를 그리게 된다.

## SPA

SPA(Single Page Application)은 서버로부터 하나의 HTML 페이지만 받아오고 이후에는 동적으로 페이지를 업데이트하는 방식

( 처음 한번 페이지 전체를 로딩한 후 필요한 데이터만을 서버로부터 비동기적으로 요청 )

## MPA

여러 페이지로 구성된 웹 어플리케이션으로 페이지의 링크를 클릭할때 마다 다른 페이지를 로드하는 방식

## CSR

클라이언트 측에서 동적으로 페이지를 렌더링을 하는 방식

- 장점으로는 서버에 대한 부하를 줄일 수 있고 초기 로딩 이후 빠른 웹사이트 렌더링이 가능
- 검색 엔진 최적화(SEO)에 제약이 있고, 초기 로딩 속도가 느리다는 단점이 있습니다.

## SSR

서버에서 렌더링 하는 방식으로 서버로부터 완전하게 만들어진 HTML 파일을 받아와 화면에 보여준다.

- 초기 속도가 빠르고 검색 엔진 최적화에 유리합니다.
- 서버에 부하가 있고, 깜빡임 현상이 있을 수 있다.

## SSG

빌드 시점에 HTML을 만들고 매 요청마다 `HTML을 재사용`

- 동적인 콘텐츠 처리가 어려우며, 업데이트가 빈번한 사이트에는 적합하지 않음

## ISR

정적 생성된 페이지를 빌드한 후에도 해당 페이지를 필요에 따라 재생성하는 기술

## 배운점

CSR SSR은 정말 많이 나오는 지식으로 이번 TIL로 다시 공부하면서 배운게

SPA와 CSR의 관계에 대해 좀 더 자세하게 알게 되었다. 사실 헷갈렸던게

CSR, SPA와 같은건지, SSR, MPA하고 같은건지 좀 헷갈렸는데 이번에 다시 공부하고 배우면서 알게 되었다.

```
SPA, MPA는 페이지를 하나만 쓰는지, 여러개 쓰는지의 차이
CSR, SSR은 렌더링을 어디서 하냐의 차이
SSR과 SSG에 가장 큰 차이점은 HTML 파일이 언제 생성되느냐의 시점 차이
```

```
next에서 fetch 사용
CSR : 'use client;'
SSR : fetch('https://...', { cache: 'no-store' }
SSG : fetch('https://...', { cache: 'force-cache' }
ISR : fetch('https://...', { next: { revalidate: 10} })
```

참조) https://velog.io/@minw0_o/Nextjs%EC%97%90%EC%84%9C%EC%9D%98-%EB%A0%8C%EB%8D%94%EB%A7%81-%EB%B0%A9%EC%8B%9D-CSR-vs-SSR-vs-SSG-vs-ISR
